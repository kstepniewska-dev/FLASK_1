{% extends "base.html" %}

{% block content %}
<div class="container py-4">
	<div class="d-flex justify-content-between align-items-center mb-3">
		<h1>Lista użytkowników</h1>
		<div>
			{% if session.user %}
				<a class="btn btn-outline-secondary" href="{{ url_for('dashboard') }}">Dashboard</a>
				<a class="btn btn-outline-danger" href="{{ url_for('logout') }}">Wyloguj</a>
			{% else %}
				<a class="btn btn-primary" href="{{ url_for('login') }}">Zaloguj</a>
				<a class="btn btn-success" href="{{ url_for('register') }}">Zarejestruj</a>
			{% endif %}
		</div>
	</div>

	{% with messages = get_flashed_messages() %}
		{% if messages %}
			{% for m in messages %}
				<div class="alert alert-info">{{ m }}</div>
			{% endfor %}
		{% endif %}
	{% endwith %}

	<ul class="list-group">
		{% for uname, info in users.items() %}
			<li class="list-group-item d-flex justify-content-between align-items-center">
				<div>
					<strong>{{ info.name }}</strong>
					<div class="text-muted">login: {{ uname }}</div>
				</div>
			</li>
		{% endfor %}
	</ul>
</div>
{% endblock %}
